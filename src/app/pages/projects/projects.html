<div class="slider-wrapper">
  <!-- CONTROLES -->
  <div class="slider-controls">
    <button class="control-btn" (click)="prev()" [disabled]="currentIndex === 0">▲</button>
    <button class="control-btn" (click)="next()" [disabled]="currentIndex === projects.length - 1">▼</button>
  </div>

  <!-- SLIDES -->
<section
  class="project-slide"
  *ngFor="let project of projects; let i = index"
  [class.active]="i === currentIndex"
  [class.hidden]="isMobile && i !== currentIndex"
  [attr.data-dir]="scrollDirection"
  [style.transform]="!isMobile ? 'translateY(' + (i - currentIndex) * 100 + 'vh)' : null"
>

    <!-- LEFT -->
    <div class="project-info">
      <h2>{{ project.title }}</h2>
      <h4>{{ project.subtitle }}</h4>
      <p><strong></strong> {{ project.location }}</p>
      <p><strong></strong> {{ project.colors }}</p>
      <p><strong></strong> {{ project.description }}</p>

      <div class="thumbs">
        <img 
          *ngFor="let img of project.images; let idx = index" 
          [src]="img" 
          (click)="openGallery(project.images, idx)"
          alt="{{ project.title }} - Imagen {{ idx + 1 }}"
          class="thumb-img"
        />
      </div>
    </div>

    <!-- RIGHT -->
    <div class="project-image">
      <img [src]="project.mainImage" alt="{{ project.title }}" />
    </div>
  </section>

  <!-- GALLERY MODAL -->
  <div class="gallery-modal" *ngIf="showGallery" (click)="closeGallery($event)">
    <div class="gallery-content" (click)="$event.stopPropagation()">
      <!-- CONTROLS -->
      <button class="gallery-nav prev" (click)="prevImage()" *ngIf="currentImageIndex > 0">‹</button>
      <button class="gallery-nav next" (click)="nextImage()" *ngIf="currentImageIndex < currentImages.length - 1">›</button>
      
      <!-- IMAGE -->
      <img [src]="currentImages[currentImageIndex]" [alt]="'Imagen ' + (currentImageIndex + 1)" class="gallery-image" />
      
      <!-- INFO -->
      <div class="gallery-info">
        <span class="image-counter">{{ currentImageIndex + 1 }} / {{ currentImages.length }}</span>
        <button class="close-btn" (click)="closeGallery()">×</button>
      </div>
    </div>
  </div>
</div>